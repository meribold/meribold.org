---
layout: post
title: "Meta"
description: >
    A journal of my thoughts while creating this static website on GitHub Pages using
    Jekyll
date: 2017-09-02
last_modified_at: 2017-09-12
categories: jekyll
---

<a href="https://xkcd.com/688/">
<img src="{{ site.url }}/assets/xkcd-688.png"
     title="The contents of any one panel are dependent on the contents of every panel including itself. The graph of panel dependencies is complete and bidirectional, and each node has a loop. The mouseover text has two hundred and forty-two characters."
     alt="Self-Description"/>
</a>

This is a journal of my thoughts---for my own reference and to have something to play
with--- while figuring out how to create this static website on [GitHub Pages][].  Step
one is to create a repository with the right name.  For me, that's
[*meribold*.github.io](https://github.com/meribold/meribold.github.io).

### Jekyll

I think I should use [Jekyll][].  It's suggested at <https://pages.github.com>.  I'm
confused whether this is the only option with GitHub Pages or if there are other
frameworks that can be used.  A Google search for "[blog github pages][1]" mostly results
in matches about Jekyll, but also something about [Pelican][2] and [Hugo][3].  I suppose
options other than Jekyll will require committing the generated HTML pages in addition to
the files used to generate them.

I'll just use Jekyll.  To install it, the [ArchWiki][4] suggests `gem install jekyll`.
There's also a Gem called [`github-pages`][5] that, I think, gives us whatever version of
Jekyll is used on GitHub's side.  Sounds good.

Their [README.md][6] says we need [Bundler][].  The Jekyll ["Quick-start guide"][7] says
so too.  The [ArchWiki][4] and <https://jekyllrb.com/docs/installation/> don't.  Huh.
I'll install it and the `github-pages` Gem.

    $ gem install bundler
    $ gem install github-pages

OK, back to the [guide][7]:

    $ cd meribold.github.io/
    $ jekyll new .
    Conflict: /home/meribold/meribold.github.io exists and is not empty.
    $ jekyll new . --force
    Your user account isn't allowed to install to the system RubyGems.
    You can cancel this installation and run:

        bundle install --path vendor/bundle

    to install the gems into ./vendor/bundle/, or you can enter your password
    and install the bundled gems to RubyGems using sudo.

    Password: ^C

Bail.  Installing stuff outside of `$HOME` with something other than the system package
manager is a mistake I made with [`pip`][pip].

    $ bundle install --path vendor/bundle

OK.

    $ jekyll new . --force

Errors...  let's start over.  I removed everything created by `jekyll new` and `bundle install`.

    $ jekyll new . --force --skip-bundle
    New jekyll site installed in /home/meribold/meribold.github.io.
    Bundle install skipped.

OK.

    bundle exec jekyll serve

Looks promising but <http://localhost:4000> only shows my `index.html` from my initial
commit ([28919f5][]).  Delete it:

    rm index.html

That's better: some kind of demo page ([1327f24][]).

So far, so good.  Let's add this Markdown file as described in
[`_posts/2017-09-02-welcome-to-jekyll.markdown`][welcome-to-jekyll.markdown]
([4f8937c][]).

    mv meta.md _posts/$(date -I)/meta.md

When I serve the site locally, the new post isn't themed yet.  On GitHub it somehow is.
Anyway, it probably needs some front matter: [34c1623][].  That does it.

At this point I looked at and edited all those other files `jekyll new` created.

### Fork the Theme

I want to include my theme in my repository so I can make major changes easily.  This is
covered [here][8].  It's also possible to use a [gem-based theme][bar] and selectively
override defaults while still getting updates to the theme used.

>   The goal of gem-based themes is to allow you to get all the benefits of a robust,
>   continually updated theme without having all the theme's files getting in your way and
>   over-complicating what might be your primary focus: creating content.  
>   ---[Tom Johnson][foo]

[bar]: https://jekyllrb.com/docs/themes/#understanding-gem-based-themes
[foo]: https://github.com/jekyll/jekyll/commit/a6d357050a33b95eb448c962d7a6a6279c9e3de6

I don't want my theme to randomly change, though.  (And probably break my overrides in the
process.)

    $ bundle show minima
    /home/meribold/.gem/ruby/2.4.0/gems/minima-2.1.1
    $ cp -r /home/meribold/.gem/ruby/2.4.0/gems/minima-2.1.1/* .
    $ git checkout README.md # oops, restory my readme file
    $ git add -A
    $ git commit -m 'Fork the theme'

See commit [f978760][].

### Destroy

I removed almost everything from the [Minima][minima] theme ([de12477][]) to figure things
out from the ground up.  By the time you read this I hopefully created custom styling that
doesn't suck.

### SEO

Or rather, "being noticed by search engines at all": Google only has two results for
"[site:meribold.github.io][9]" (there currently are 10 pages).  Following the advice of
whatever ranks highly when searching for "[jekyll seo][10]" seems logical.

The [jekyll-seo-tag][] plugin will apparently automate adding a bunch of metadata tags
that will help ([a6d1930][]).  I'm also using the [jekyll-sitemap][] gem now ([435a157][])
to generate this [`sitemap.xml`][sitemap.xml][^robots] and [submitted it to Google][gsc].
Sitemaps "[inform search engines about URLs on a website that are available for
crawling][Sitemaps]".

A day later (09-13), this hasn't worked out.  There is currently one Google result and the
snippet's title isn't updated.  I slapped some semi-made-up modification date metadata on
most pages (TODO: commit ID) that jekyll-sitemap will [use for `<lastmod>` tags][12] (most
pages were lacking this tag completely, though it was present when building locally).
Then I submitted the Sitemap to Google again (this is probably unnecessary?) and also
[requested recrawling of my site][13].

Another day later (09-14), there is still one result with an outdated title.  Yet another
day later (09-15), there now are no results...

<!--
*   Day 4: nothing
*   Day 5: naught
*   Day 6: two results; only one of them has an up-to-date title.
*   Day 7: three results; two have up-to-date titles.
-->

| Date  | Results | Outdated Titles |
|-------|---------|-----------------|
| 09-13 | 1       | 1               |
| 09-14 | 1       | 1               |
| 09-15 | 0       | 0               |
| 09-16 | 0       | 0               |
| 09-17 | 0       | 0               |
| 09-18 | 2       | 1               |
| 09-19 | 3       | 1               |

At some point I noticed that google.com and google.de don't give the same results.  There
currently are four results each but one page is different: google.com has
[projects/trackhack/](https://meribold.github.io/projects/trackhack) while google.de has
this page (with an outdated title).  Other than that they both still have one more link
with an outdated title.

<!--
*   Day 9: five results; two have outdated titles.
*   Day 10: four results on google.com, five on google.de; one and two outdated titles,
    respectively
-->

| Date  | Results on .com TLD | Outdated Titles | Results on .de TLD | Outdated Titles |
|-------|---------------------|-----------------|--------------------|-----------------|
| 09-20 | 4                   | 1               | 4                  | 2               |
| 09-21 | 5                   | 2               | 5                  | 2               |
| 09-22 | 4                   | 1               | 5                  | 2               |

At least one more page can be found by [adding keywords][15] (doesn't work on google.com).
Maybe my `description` meta tags shouldn't repeat the descriptions on the [projects][]
page.  I think all pages were all indexed, though.  That's what [Google Search
Console][gsc] says[^processed].  I guess that only leaves the issue of outdated titles.
Maybe I should update the timestamps (`<lastmod>` tags) of those pages again.

[^robots]: It [also generates][11] [`robots.txt`][robots.txt].
[^processed]: It says `/sitemap.xml` was submitted on 2017-09-12, processed on 2017-09-20,
    and 10 out of 11 links were indexed.  I assume [this][14] is the one that wasn't.

| Date  | Results on .com TLD | Outdated Titles | Results on .de TLD | Outdated Titles |
|-------|---------------------|-----------------|--------------------|-----------------|
| 09-23 | 3                   | 1               | 3                  | 1               |
| 09-24 | 3                   | 1               | 3                  | 1               |
| 09-25 | 3                   | 1               | 3                  | 1               |

~~Looks like the results are stabilizing.~~  The results changed 10 minutes later.  It
seems more precise timestamps are needed.

| [Date][ISO 8601]  | Results on .com TLD | Outdated Titles | Results on .de TLD | Outdated Titles |
|-------------------|---------------------|-----------------|--------------------|-----------------|
| 2017-09-25T10:04Z | 5                   | 2               | 5                  | 2               |
| 2017-09-25T13:31Z | 6                   | 2               | 5                  | 2               |
| 2017-09-25T14:07Z | 6                   | 2               | 6                  | 2               |
| 2017-09-25T15:50Z | 5                   | 2               | 6                  | 2               |
| 2017-09-25T18:44Z | 5                   | 2               | 5                  | 2               |
| 2017-09-25T19:35Z | 3                   | 1               | 3                  | 1               |
| 2017-09-26T08:40Z | 3                   | 1               | 3                  | 1               |
| 2017-09-26T11:06Z | 5                   | 2               | 3                  | 1               |
| 2017-09-27T08:09Z | 3                   | 1               | 3                  | 1               |

This sure changes a lot.  What pages have outdated titles doesn't, though, so I can
probably try updating the timestamps of those: [/projects/](/projects/) and [the current
one](./meta.html).

Including keywords from the titles of project pages works for finding most of them.

[GitHub Pages]: https://pages.github.com
[Jekyll]: https://en.wikipedia.org/wiki/Jekyll_(software)
[1]: https://encrypted.google.com/search?q=blog+github+pages
[2]: https://fedoramagazine.org/make-github-pages-blog-with-pelican/
[3]: https://gohugo.io/hosting-and-deployment/hosting-on-github/
[4]: https://wiki.archlinux.org/index.php/Jekyll
[5]: https://jekyllrb.com/docs/github-pages/#use-the-github-pages-gem
[6]: https://github.com/github/pages-gem
[Bundler]: https://github.com/bundler/bundler
[7]: https://jekyllrb.com/docs/quickstart/
[pip]: https://wiki.archlinux.org/index.php/Python#Package_management
[28919f5]: https://github.com/meribold/meribold.github.io/commit/28919f52eb31ca263df3caadc6f4d4ca4ff4e7f3
[1327f24]: https://github.com/meribold/meribold.github.io/commit/1327f24fdf3227093340df3565e61a2e7da0725a
[welcome-to-jekyll.markdown]: https://github.com/meribold/meribold.github.io/blob/1327f24fdf3227093340df3565e61a2e7da0725a/_posts/2017-09-02-welcome-to-jekyll.markdown
[4f8937c]: https://github.com/meribold/meribold.github.io/commit/4f8937cdcf510f7e1b494d410c175581de638428
[34c1623]: https://github.com/meribold/meribold.github.io/commit/34c1623b3ca4d21b09b74e203d4925dee66d4d60
[8]: https://jekyllrb.com/docs/themes/#converting-gem-based-themes-to-regular-themes
[f978760]: https://github.com/meribold/meribold.github.io/commit/f978760a2d7953671c57d3a3f6be7776c8e6435a
[minima]: https://github.com/jekyll/minima
[de12477]: https://github.com/meribold/meribold.github.io/commit/de124779eeeb7d4e83ad84dd2812cce9d902d791
[9]: https://encrypted.google.com/search?q=site%3Ameribold.github.io
[10]: https://encrypted.google.com/search?q=jekyll+seo
[jekyll-seo-tag]: https://github.com/jekyll/jekyll-seo-tag
[a6d1930]: https://github.com/meribold/meribold.github.io/commit/a6d193008adb270710e9a370433ab6acefc369e5
[jekyll-sitemap]: https://github.com/jekyll/jekyll-sitemap
[435a157]: https://github.com/meribold/meribold.github.io/commit/435a1578492f93e0af8c1380399ecf314cf25b2a
[sitemap.xml]: /sitemap.xml
[gsc]: https://en.wikipedia.org/wiki/Google_Search_Console
[Sitemaps]: https://en.wikipedia.org/wiki/Sitemaps
[robots.txt]: /robots.txt
[11]: https://github.com/jekyll/jekyll-sitemap/blob/2e2bb3cf19a0e070e77986f67d6c2e1ac6334107/History.markdown#minor-enhancements-2
[12]: https://github.com/jekyll/jekyll-sitemap#lastmod-tag
[13]: https://support.google.com/webmasters/answer/6065812
[14]: /googled1df7058b163306e.html
[15]: https://www.google.de/search?q=site%3Ameribold.github.io+pvp
[projects]: /projects
[ISO 8601]: https://xkcd.com/1179/

*[SEO]: Search engine optimization
*[TLD]: Top-level domain
*[TLDs]: Top-level domains

<!-- vim: set tw=90 sts=-1 sw=4 et spell: -->
